<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>OpenLayers Editor</title>

<link
	href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css"
	rel="stylesheet">
<!-- <link -->
<!-- 	href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" -->
<!-- 	rel="stylesheet"> -->

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
	href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet"
	href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap-theme.min.css">


<style type="text/css">
#controlToggle li {
	list-style: none;
}

#map {
	width: 100%;
	height: 100%;
}
</style>

<script src="./features/OpenLayers.js"></script>
<script src="http://maps.google.com/maps/api/js?v=3&amp;sensor=false"></script>

<!-- <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script> -->
<script
	src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script
	src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>

<script
	src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<!--  <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>-->

<script src="./features/twitter-bootstrap-hover-dropdown.min.js"></script>
<script src="./features/olEditor.js"></script>
<body onload="init();">

	<!--  ------------------------------------------------------- -->
	<!-- MY BODY -->
	<!--  ------------------------------------------------------- -->
	<div class="container">
		<div class="row-fluid">
			<div class="span12">
				<div id="toolMaster" href="#" data-trigger="manual"
					data-toggle="popover" data-placement="right"
					data-content="Here is some amazing content. It's very engaging. right?"
					data-original-title="Popover Title" align="center"
					style="z-index: 1; top: 0px;">
					<!--  TOOLBAR  -->
					<div id="toolbar" class="btn-toolbar">
						<a href="#exporterModal" role="button" class="btn"
							data-toggle="modal">exporter</a> <a href="#importerModal"
							role="button" class="btn" data-toggle="modal">importer</a> <a
							role="button" class="btn btn-success" id="noneToggle"
							onclick="toggleControl('none');">navigate</a> <a role="button"
							class="btn btn-primary" id="selectToggle"
							onclick="toggleControl('select');">select [<span id="counter">0</span>]
						</a> <a href="#modifyFeatureModal" data-toggle="modal" role="button"
							class="btn btn-warning" id="modifyToggle"
							onclick="toggleControl('modify');">modify</a>

						<!-- 					<p> -->
						<!-- 						Use the shift key to select multiple features.<br />Use the ctrl -->
						<!-- 						key to toggle selection on features one at a time.<br />Note: the -->
						<!-- 						"clickout" option has no effect when "hover" is selected. -->
						<!-- 					</p> -->
						<div class="btn-group">
							<button class="btn btn-danger dropdown-toggle"
								data-toggle="dropdown" data-hover="dropdown">
								Draw<span class="caret"></span>
							</button>
							<ul id="controlToggle" class="dropdown-menu">
								<li class="divider"></li>
								<!--
										<li>
											<label for="snap_toggle"></label>
											<input type="checkbox" name="snapping" id="snap_toggle" checked="checked">
										</li>
										-->

								<li role="presentation"><a role="presentation"
									class="dropdown-header" onclick="toggleControl('point');">
										<label name="type" id="pointToggle">point </label>
								</a></li>
								<li role="presentation"><a role="presentation"
									class="dropdown-header" onclick="toggleControl('line');"> <label
										name="type" id="lineToggle">line </label></a></li>
								<li role="presentation"><a role="presentation"
									class="dropdown-header" href="#regularPolygonModal"
									data-toggle="modal" onclick="toggleControl('regular');"> <label
										name="type" id="regularPolygonToggle">regular polygon
									</label></a></li>
								<li role="presentation"><a role="presentation"
									class="dropdown-header" href="#irregularPolygonModal"
									data-toggle="modal" onclick="toggleControl('polygon');"> <label
										name="type" id="irregularPolygonToggle">irregular
											polygon </label></a></li>
							</ul>
						</div>
						<!-- .btn-group -->
						<div class="btn-group">
							<button class="btn btn-danger dropdown-toggle"
								data-toggle="dropdown" data-hover="dropdown">
								Actions<span class="caret"></span>
							</button>
							<ul class="dropdown-menu" style="padding: 5px;">
								<li>
									<button type="submit" class="btn" onclick="removeSelected();">Remove
										features</button>
								</li>
								<li>
									<button href="#exporterModal" data-toggle="modal" type="submit"
										class="btn" onclick="serializeSelected();">Dump
										features</button>
								</li>
								<li><button type="submit" class="btn"
										onclick="convertSelectedToPolygon2();">Convert to
										Polygon</button></li>
								<li>
									<button type="submit" class="btn"
										onclick="convertSelectedToPolygon();">Convert to ring</button>
								</li>
								<li>
									<button type="submit" class="btn"
										onclick="convertSelectedToPoints();">Convert to
										points</button>
								</li>
								<li>
									<button type="submit" class="btn" onclick="labelize();">Label
										features</button>
								</li>
							</ul>
						</div>
						<!-- .btn-group -->
						<div class="btn-group">
							<button class="btn btn-warning dropdown-toggle"
								data-toggle="dropdown" data-hover="dropdown">
								Simplify<span class="caret"></span>
							</button>
							<ul class="dropdown-menu">
								<li>
									<div id="control-simplify">
										<button type="submit" class="btn" id="simplify"
											href="#simplifyModal" data-toggle="modal"
											onclick="simplify();">Simplify LineString</button>
										<button type="submit" class="btn" id="animation"
											href="#simplifyModal" data-toggle="modal"
											onclick="animationHandler();">Start animation</button>
										<div id="info"></div>
									</div>
								</li>
							</ul>
						</div>
						<!-- .btn-group -->
						<div class="btn-group">
							<button class="btn btn-info dropdown-toggle"
								data-toggle="dropdown" data-hover="dropdown">
								Options<span class="caret"></span>
							</button>
							<ul class="dropdown-menu">
								<li><label class="checkbox"> <input type="checkbox"
										name="snapping" id="snap_toggle" checked="checked">
										Snap to points
								</label></li>
							</ul>
						</div>
					</div>
					<!--  END TOOLBAR  -->
				</div>
			</div>
		</div>
		<div class="row-fluid">
			<div class="span12">
				<div id="map" class="fullscreen"
					style="height: 100%; width: 100%; position: absolute; top: 0px; left: 0px;"></div>
			</div>
		</div>
	</div>

































	<!--  ------------------------------------------------------- -->
	<!-- MY MODAL -->
	<!--  ------------------------------------------------------- -->
	<div class="modal hide fade" id="simplifyModal" aria-hidden="false">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true">×</button>
			<h4 class="modal-title">Configure</h4>
		</div>
		<div class="modal-body">
			<div>
				<label for="tolerance">Tolerance factor:</label> <input
					name="tolerance" id="tolerance" type="number" min="0" max="1"
					step="0.00001" value="0.001">
			</div>
		</div>
	</div>

	<div class="modal hide fade" id="selectFeatureModal"
		aria-hidden="false">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true">×</button>
			<h4 class="modal-title">Configure</h4>
		</div>
		<div class="modal-body">
			<div>
				<label class="checkbox"> <input id="box" type="checkbox"
					name="box" checked="checked"
					onchange="configureSelect('box',this.value)">select
					features in a box
				</label><label class="checkbox"> <input id="clickout"
					type="checkbox" name="clickout" checked="checked"
					onchange="configureSelect('checkbox',this.value)">click out
					to unselect features
				</label>
			</div>
		</div>
	</div>

	<div class="modal hide fade" id="modifyFeatureModal"
		aria-hidden="false">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true">×</button>
			<h4 class="modal-title">Configure</h4>
		</div>
		<div class="modal-body">
			<div>
				<label class="checkbox"> <input type="checkbox"
					id="createVertices" type="checkbox" name="createVertices"
					onchange="configureModifyFeature('createVertices',this.value)">allow
					vertices creation
				</label><label class="checkbox"> <input id="rotate" type="checkbox"
					name="rotate"
					onchange="configureModifyFeature('rotate',this.value)">allow
					rotation
				</label><label class="checkbox"> <input id="resize" type="checkbox"
					name="resize"
					onchange="configureModifyFeature('resize',this.value)">allow
					resizing
				</label><label class="checkbox"> <input id="keepAspectRatio"
					type="checkbox" name="keepAspectRatio"
					onchange="configureModifyFeature('keepAspectRatio',this.value)"
					checked="checked">keep aspect ratio
				</label> <label class="checkbox"> <input id="drag" type="checkbox"
					name="drag" onchange="configureModifyFeature('drag',this.value)">allow
					dragging
				</label>
			</div>
		</div>
	</div>


	<div class="modal hide fade" id="regularPolygonModal"
		aria-hidden="false">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true">×</button>
			<h4 class="modal-title">Configure</h4>
		</div>
		<div class="modal-body">
			<div>
				<ul>
					<li><input id="polygonSides" type="text" placeholder="sides"
						size="2" maxlength="2" name="sides"
						onchange="configurePolygon('sides', this.value)"></li>
				</ul>
			</div>
		</div>
	</div>

	<div class="modal hide fade" id="regularPolygonModal"
		aria-hidden="false">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true">×</button>
			<h4 class="modal-title">Configure</h4>
		</div>
		<div class="modal-body">
			<div>
				<ul>
					<li><label class="checkbox"> <input type="checkbox"
							id="polygonIrregular" name="irregular"
							onchange="configurePolygon('irregular', this.value)">
							Irregular
					</label></li>
				</ul>
			</div>
		</div>
	</div>


	<div class="modal hide fade" id="importerModal" aria-hidden="false">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true">×</button>
			<h4 class="modal-title">Importer</h4>
		</div>
		<div class="modal-body">
			<div>
				<div id="input">
					<p>Use the drop-down below to select the input/output format
						for vector features. New features can be added by using the
						drawing tools above or by pasting their text representation below.</p>
					<label for="formatType">Format</label> <select name="formatType"
						id="formatType">
						<option value="geojson">GeoJSON</option>
						<option value="atom">Atom</option>
						<option value="kml">KML</option>
						<option value="georss">GeoRSS</option>
						<option value="gml2">GML (v2)</option>
						<option value="gml3">GML (v3)</option>
						<option value="wkt">Well-Known Text (WKT)</option>
						<option value="gpx" selected="selected">GPX</option>
						<option value="encoded_polyline">Encoded Polyline</option>
					</select> <label for="prettyPrint">Pretty print</label> <input
						id="prettyPrint" type="checkbox" name="prettyPrint" value="1">
					<br> Input Projection: <select id="inproj"
						onchange="updateFormats()">
						<option value="EPSG:4326" selected="selected">EPSG:4326</option>
						<option value="EPSG:900913">Spherical Mercator</option>
					</select> <br>
					<textarea id="text" style='width: 100%; height: 300px;'></textarea>
					<br>
					<!-- 					 <input type="button" value="add feature" -->
					<!-- 						onclick="deserialize();"> -->

					<!--input type="file" value="load file" onclick="loadFile();"-->
					<!--input type="file" id="files" name="files[]" multiple -->
					<!--output id="list"></output-->
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<a href="#" class="btn btn-primary" onclick="deserialize();">Import</a>
			<a href="#" data-dismiss="modal" class="btn">Close</a>
		</div>
	</div>

	<div class="modal hide fade" id="exporterModal" aria-hidden="false">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true">×</button>
			<h4 class="modal-title">Exporter</h4>
		</div>
		<div class="modal-body">
			<div>
				<div id="output">
					<p>Use the drop-down below to select the output format for
						vector features. New features can be added by using the drawing
						tools above or by pasting their text representation below.</p>
					<label for="formatType">Format</label> <select name="formatType"
						id="formatType">
						<option value="geojson">GeoJSON</option>
						<option value="atom">Atom</option>
						<option value="kml">KML</option>
						<option value="georss">GeoRSS</option>
						<option value="gml2">GML (v2)</option>
						<option value="gml3">GML (v3)</option>
						<option value="wkt">Well-Known Text (WKT)</option>
						<option value="gpx" selected="selected">GPX</option>
						<option value="encoded_polyline">Encoded Polyline</option>
					</select> <label for="prettyPrint">Pretty print</label> <input
						id="prettyPrint" type="checkbox" name="prettyPrint" value="1">
					<br> Output Projection: <select id="outproj"
						onchange="updateFormats()">
						<option value="EPSG:4326" selected="selected">EPSG:4326</option>
						<option value="EPSG:900913">Spherical Mercator</option>
					</select> <br>
					<textarea id="text" style='width: 100%; height: 300px;'></textarea>
				</div>

			</div>
		</div>
		<div class="modal-footer">
			<a href="#" data-dismiss="modal" class="btn">Close</a>
		</div>
	</div>
</body>
</html>